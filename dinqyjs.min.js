var Dinqyjs=function(){"use strict";var n=null,t=void 0,r=!0,i=!1,u="apply",e=Array,o=e.prototype,f=Math.ceil,s="clone",c="concat",a="length",h="indexOf",_="isArray",v="lastIndexOf",l=parseInt,m="pop",p="push",d=Math.random,g="reverse",y="slice",A="sort",x="splice",O=function(n){return function(t){return n===t}},R=function(n,t){var r=n/2;return l(t>0?f(r):r)},q=function(n,t){o[n]||(o[n]=function(n,r){return M(this,O(n),t,r)})},w=function(n){return"number"==typeof n||"boolean"==typeof n},j=function(n){return X(n._[c]())},I={ARRAY_PREALLOCATION:64e3},k=function(n,t){var r,i={};w(t)&&(t={right:t});for(r in t)i[r]=t[r];w(n)&&(n={left:n});for(r in n)i[r]=n[r];return i},b=function(n,t){return n>t?1:t>n?-1:0},L=function(n,t,r){var i,u,e,o,f=B(r),s=0,c=[];for(n=Q(X(n).distinct(r)),t=Q(t),o=t[a];s<n[a];){for(u=n[s++],i=0;o>i&&(e=t[i],!(f&&r(u,e)||!f&&u===e));)i++;i===o&&c[p](u)}return X(c)},C=function(n,t){var r,i;for(i in n)r=n[i],B(r)||t(r,i)},D=function(n){throw new Error(n)},E="Array contains no matching elements",J="Array does not contain exactly one matching element",M=function(n,t,r,i,u){var e,o=n[a];if(r=r||1,!B(t))return o>0?r>0?0:o-1:-1;for(N(i)&&(i=r>0?0:o-1),(N(u)||u>o)&&(u=o);u>0;){if(e=n[i],t(e))return i;i+=r,u--}return-1},T=function(t,r,i){for(var u,e,o=B(i),f=0,s=r[a],c=s>0?r[0]:n;s>f;f++)u=r[f],e=o?i(u):u,(t?c>=e:e>=c)&&(c=u);return c},B=function(n){return"function"==typeof n},N=function(n){return n===t},P=function(n,t){return{inner:n,outer:t}},S=function(n,t,r,i){for(var u=0;u<n[a]&&r(n[u],u)!=i;u++)t(n[u],u)},W=function(n,t){return.25*(n*t+n)},Y=function(n,t){return n*t},U=function(n,t,r,i){for(var u,e,o=0,f=[],s=B(r),c=B(i);o<n[a];)u=n[o++],e=t(u),s&&(u=r(u)),(f[e]=e in f?f[e]:[])[p](u);return c&&V(f,i),f},z=function(n,r,i){var u,e,o,s,a,h,_,v,m=B(i),p=n.count();return 1>p?t:(u=Q(n)[c](),G(u,i),e=W(r,p),o=l(e),s=l(f(e)),_=u[o-1],v=u[s-1],a=m?i(_):_,h=m?i(v):v,s>o?a:(a+h)/2)},F=function(){return d()-.5},G=function(n,t){return N(t)||t[a]<1?void n[A](b):(t=B(t)?[t]:o.slice.call(t),void n[A](H(t)))},H=function(n){return function(t,r){for(var i,u,e,o,f=0,s=0,c=n[a];c>f&&0===s;)o=n[f++],B(o)&&(e=0,c>f&&"string"==typeof n[f]&&0===n[f][h]("des")&&(e=1),i=o(t),u=o(r),u>i?s=e?1:-1:i>u&&(s=e?-1:1));return s}},K=function(t,r,i){for(var u,e,o=n,f=t[a]-1,s=B(i);f>=0;)u=t[f--],e=s?i(u):u,o=o===n?e:r(o,e);return o},Q=function(n){return n._||n},V=function(n,t){var r,i;for(r in n)i=n[r],n[r]=t(i,r);return n},X=function(n){return n._?n:new Dinqyjs.Collection(n)};return q(h,1),q(v,-1),o.map||(o.map=function(n){var r=this[a],i=new e(r>I.ARRAY_PREALLOCATION?0:r),u=0;if(!B(n))return t;for(;r>u;)i[u]=n(this[u++]);return i}),e[_]||(e[_]=function(n){return n.constructor===e}),{Collection:function(){function t(n){this._=n||[]}return t.associative=function(n){for(var t in n)if(!B(n[t]))return 0===+n[a];return i},t.configure=function(n,t){return I[n]=arguments[a]<2?I[n]:t},t.transpose=function(){for(var n,t,r,i=arguments,u=[],e=0,o=arguments[a];o>e;e++){for(t=Q(i[e]),r=t[a];u[a]<r;)u[p]([]);for(n=0;r>n;)u[n][p](t[n++])}return X(u)},t.prototype={all:function(n){for(var t=r,u=0;u<this._[a];)t&=n(this._[u++]);return t?r:i},any:function(n){return M(this._,n)>=0},ascending:function(){return G(this._,arguments),this},atRandom:function(){return this._[Math.floor(d()*this._[a])]},average:function(n){var t=this._[a];return t?this.sum(n)/t:0},clear:function(){this._[x](0,this._[a])},clearWhere:function(n){for(var t=this._,r=t[a]-1;r>=0;r--)n(t[r])&&t[x](r,1);return this},clone:function(){return j(this)},concat:function(){return X(o[c][u](this._,arguments))},contains:function(n){return this._[h](n)>-1},count:function(n){var t=0,r=this._,i=r[a],u=i;if(!N(n))for(u=0;i>t;)r[t++]===n&&u++;return u},crossJoin:function(n,t){var r,i,u=this._,e=u[a],o=n.length,f=[];for(N(t)&&(t=k),n=Q(n),r=0;e>r;r++)for(i=0;o>i;i++)f.push(t(u[r],n[i]));return X(f)},descending:function(){return G(this._,arguments),this[g]()},difference:function(n,t){var r=this._;return n=Q(n),L(r,n,t).union(L(n,r,t))},distinct:function(n){var t,r,i,u,e,o=B(n),f=[],s=this._;for(i=0,e=s[a];e>i;i++)if(t=s[i],-1==f[h](t))for(u=0;e>u;u++)if(r=s[u],o&&n(t,r)||!o&&t===r){f[p](t);break}return X(f)},doUntil:function(n,t){S(this._,n,t,1)},doWhile:function(n,t){S(this._,n,t,0)},each:function(n){var r=0,i=this._,u=i[a];if(u!==+u||t.associative(this._))C(i,n);else for(;u>r;)n(i[r],r++)},element:function(n,t){return this._[n]=arguments[a]>1?t:this._[n]},equalTo:function(n,t){n=Q(n);var u,e,o=this._,f=o[a],s=f-1,c=B(t);if(f!=n[a])return i;for(;s>=0;)if(u=o[s],e=n[s--],c?!t(u,e):u!==e)return i;return r},findIndex:function(n,t,r){return B(n)?M(this._,n,1,t,r):-1},findLastIndex:function(n,t,r){return B(n)?M(this._,n,-1,t,r):-1},first:function(n){var t=M(this._,n);return t>=0?this._[t]:void D(E)},flatten:function(){for(var n,r=0,i=X([]),o=this._;r<o[a];)n=o[r++],t.prototype[p][u](i,e[_](n)?n:[n]);return i},groupBy:function(n,t,r){var i,u=U(this._,n,t,r),e=this._;e[x](0,e[a]);for(i in u)e[i]=u[i];return this},indexOf:function(){return o[h][u](this._,arguments)},innerJoin:function(n,t,r){var i,u,o,f=[],c=this._,h=0;if(n=Q(n),!e[_](n))return this[s]();for(B(r)||(r=P);h<c[a];)for(i=c[h++],o=0;o<n[a];)u=n[o++],t(i,u)&&f[p](r(i,u));return X(f)},insert:function(n,t){this._[x](n,0,t)},insertRange:function(n,t){o[x][u](this._,[n,0][c](arguments[a]<3?Q(t):o.slice.call(arguments,1)))},interquartileRange:function(n){return this.upperquartile(n)-this.lowerquartile(n)},intersect:function(n,t){for(var r,i,u,e=B(t),o=[],f=0,s=Q(this.distinct(t)),c=Q(X(n).distinct(t));f<s[a];)for(r=s[f++],u=0;u<c[a];)if(i=c[u++],e&&t(r,i)||!e&&r===i){o[p](r);break}return X(o)},join:function(){return o.join[u](this._,arguments)},keys:function(){var n,t=[],r=this._;for(n in r)B(r[n])||t[p](n);return t},last:function(n){var t=this._,r=M(t,n,-1);return r>=0?t[r]:void D(E)},lastIndexOf:function(){return o[v][u](this._,arguments)},lowerquartile:function(n){return z(this,1,n)},map:function(n){var t=void 0;if(B(n)){var r=[];this.each(function(t){r[p](n(t))}),t=X(r)}return t},max:function(n){return T(0,this._,n)},median:function(){var n,t,r;return r=this[s](),G(Q(r),arguments),n=r.middle(),t=r.middle(1),t>n?(n+t)/2:n},middle:function(n){return this._[R(this._[a]-1,n)]},min:function(n){return T(1,this._,n)},mode:function(n){var t,r,i,u,e=0,o=[],f=0;for(i=Q((B(n)?this.map(n):this[s]()).ascending());f<i[a];)u=i[f++],r=u===t?r+1:0,r===e?o[p](u):r>e&&(o=[u],e++),t=u;return o},multiply:function(n){return this._[a]>0?K(this._,Y,n):0},none:function(n){return!this.any(n)},orderBy:function(){G(this._,arguments)},outerJoin:function(t,r,i){var u,o,f,c,h=[],v=0,l=B(r);if(t=Q(t),!e[_](t))return this[s]();for(B(i)||(i=P);v<this._[a];){for(u=this._[v++],f=1,c=0;c<t[a];)o=t[c++],(l&&r(u,o)||!l&&u===o)&&(f=0,h[p](i(u,o)));f&&h[p](i(u,n))}return X(h)},pack:function(){for(var t,r=this._,i=r[a]-1;i>=0;i--)t=r[i],(N(t)||t===n)&&r[x](i,1);return this},partition:function(n,t,r){return X(U(this._,n,t,r))},pop:function(){return o[m][u](this._,arguments)},push:function(){return o[p][u](this._,arguments)},pushRepeatedly:function(n,t){for(var r=0;t>r;r++)this[p](n);return this},range:function(n,t){return X(this._[y](n,t))},raw:function(){return this._},remove:function(n){var t=this._.indexOf(n);t>-1&&this.removeAt(t)},removeAt:function(n){this._[x](n,1)},removeRange:function(n,t){this._[x](n,t)},reverse:function(){return X(o[g][u](this._,arguments))},shift:function(){return o.shift[u](this._,arguments)},shuffle:function(){return this._[A](F),this},single:function(n){var t=Q(this);return B(n)&&(t=Q(X(this).where(n))),1!=t[a]&&D(J),t[0]},skip:function(n){return X(this._[y](n))},sort:function(){return o[A][u](this._,arguments),this},sum:function(n){return this._[a]>0?K(this._,function(n,t){return n+t},n):0},take:function(n){return X(this._[y](0,n))},toString:function(){return o.toString[u](this._)},union:function(n){var t=this[s]();return o[p][u](Q(t),Q(n)),t},unshift:function(){return o.unshift[u](this._,arguments)},upperquartile:function(n){return z(this,3,n)},valueOf:function(){return o.valueOf[u](this._,arguments)},where:function(n){for(var t,r=[],i=0,u=this._;i<u[a];)t=u[i++],n(t)&&r[p](t);return X(r)}},t}()}}();"object"==typeof exports&&exports&&(exports.Dinqyjs=Dinqyjs);